import{t as g}from"./texts.eb7eb334.js";import{_ as A,f as u,o as p,c as _,a as o,t as d,b as l,F as S,h as V,U as x,l as F}from"./index.630f2304.js";const I={class:"scores"},N={class:"score timer"},T={class:"score wpm"},z={class:"score errPercent"},D={setup(G){var s=[];let e=u(0),E=["Tab","CapsLock","Shift","Control","Alt","Enter","Esc","AltGraph"],c=u(!1),k=u("100%"),h=u("0:00"),v=0,w=0;var y=!1;let f=0;const C=u(0);let i=0,m=B(1,5);for(i=0;i<g[m].text.length;i++){let t=g[m].text[i]==" "?"\u2981":g[m].text[i];s.push(t)}let a=u(new Array(s.length).fill(0));function P(){c.value||(c.value=!0,M(),window.addEventListener("keydown",L))}function L(t){E.indexOf(t.key)==-1&&(e.value>=s.length?(e.value=s.length-1,y=!0,window.removeEventListener("keydown",L)):t.key=="Backspace"?(s[e.value-1]==" "||(e.value<=0?e.value=0:e.value--),a.value[e.value]=-1):s[e.value]=="\u2981"?(w++,C.value=Math.floor(w*60/v),t.key==" "?a.value[e.value]=3:(a.value[e.value]=1,f++),e.value++):t.key!=s[e.value]?(a.value[e.value]=1,e.value++,f++):(a.value[e.value]!=0?(a.value[e.value]=2,f--):a.value[e.value]=3,e.value++),k.value=Math.floor((1-f/e.value)*100)+"%")}function M(){if(!y){let t=Math.floor(v/60),n=v%60;n<10?h.value=""+t+":0"+n:h.value=""+t+":"+n,v++,setTimeout(M,1e3)}}function B(t,n){return Math.floor(Math.random()*(n-t))+t}return(t,n)=>(p(),_(S,null,[o("div",I,[o("div",N,[o("h4",null,d(l(h)),1)]),o("div",T,[o("h4",null,"WPM: "+d(C.value),1)]),o("div",z,[o("h4",null,"Precisione: "+d(l(k)),1)])]),o("div",{class:x(["practice-text",{blur:!l(c)}]),onClick:P},[(p(!0),_(S,null,V(l(s),(b,r)=>(p(),_("span",null,[l(e)-1==r||l(e)+2==r||l(e)==r||l(e)+1==r?(p(),_("span",{key:0,class:x({"passed wrong":l(a)[r]==1,"passed right":l(a)[r]==3,text:!0,"passed corrected":l(a)[r]==2,nextChar:r==l(e)&&l(c)})},d(b),3)):F("",!0)]))),256))],2)],64))}};var R=A(D,[["__scopeId","data-v-6eea7a00"]]);export{R as default};
