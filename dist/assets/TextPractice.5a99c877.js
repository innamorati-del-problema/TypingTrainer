import{t as M}from"./texts.eb7eb334.js";import{_ as b,f as o,o as _,c as h,a,t as d,b as s,F as E,h as A,U as P}from"./index.630f2304.js";const F={class:"scores"},I={class:"score timer"},V={class:"score wpm"},z={class:"score errPercent"},D={setup(G){var r=[];let e=o(0),T=["Tab","CapsLock","Shift","Control","Alt","Enter","Esc","AltGraph"],u=o(!1),m=o("100%"),p=o("0:00"),i=0,g=0;var k=!1;let c=0;const w=o(0);let v=0,y=L(1,5);for(v=0;v<M[y].text.length;v++)r.push(M[y].text[v]);let l=o(new Array(r.length).fill(0));function B(){u.value||(u.value=!0,C(),window.addEventListener("keydown",x))}function x(t){T.indexOf(t.key)==-1&&(e.value>=r.length?(e.value=r.length-1,k=!0,window.removeEventListener("keydown",x)):t.key=="Backspace"?(r[e.value-1]==" "||(e.value<=0?e.value=0:e.value--),l.value[e.value]=-1):r[e.value]==" "?(g++,w.value=Math.floor(g*60/i),t.key==" "?l.value[e.value]=3:(l.value[e.value]=1,c++),e.value++):t.key!=r[e.value]?(l.value[e.value]=1,e.value++,c++):(l.value[e.value]!=0?(l.value[e.value]=2,c--):l.value[e.value]=3,e.value++),m.value=Math.floor((1-c/e.value)*100)+"%")}function C(){if(!k){let t=Math.floor(i/60),n=i%60;n<10?p.value=""+t+":0"+n:p.value=""+t+":"+n,i++,setTimeout(C,1e3)}}function L(t,n){return Math.floor(Math.random()*(n-t))+t}return(t,n)=>(_(),h(E,null,[a("div",F,[a("div",I,[a("h4",null,d(s(p)),1)]),a("div",V,[a("h4",null,"WPM: "+d(w.value),1)]),a("div",z,[a("h4",null,"Precisione: "+d(s(m)),1)])]),a("div",{class:P(["practice-text",{blur:!s(u)}]),onClick:B},[(_(!0),h(E,null,A(s(r),(S,f)=>(_(),h("span",null,[a("span",{class:P({"passed wrong":s(l)[f]==1,"passed right":s(l)[f]==3,text:!0,"passed corrected":s(l)[f]==2,nextChar:f==s(e)&&s(u)})},d(S),3)]))),256))],2)],64))}};var O=b(D,[["__scopeId","data-v-06431c78"]]);export{O as default};
